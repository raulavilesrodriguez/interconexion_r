modelo <- "Corporación de Telecomunicaciones CNT"
we <- "CNT"
de <- str_view_all(we, modelo)
de |> str_replace("\\s*", '')
str_detect(modelo, we)
modelo <- "Corporación de Telecomunicaciones CNT"
we <- "CNT E.P."
de <- str_view_all(we, modelo)
de |> str_replace("\\s*", '')
str_detect(modelo, we)
modelo <- "Corporación de Telecomunicaciones CNT"
we <- "CNT E.P."
de <- str_view_all(we, modelo)
de |> str_replace("\\s*", '')
grepl(modelo, we, fixed = TRUE)
modelo <- "Corporación de Telecomunicaciones CNT"
we <- "CNT E.P."
de <- str_view_all(we, modelo)
de |> str_replace("\\s*", '')
grepl(modelo, we, fixed = FALSE)
modelo <- "Corporación de Telecomunicaciones CNT"
we <- "mega"
de <- str_view_all(we, modelo)
de |> str_replace("\\s*", '')
grepl(modelo, we, fixed = FALSE)
modelo <- "Corporación de Telecomunicaciones CNT"
we <- "Xy"
de <- str_view_all(we, modelo)
de |> str_replace("\\s*", '')
grepl(modelo, we, fixed = FALSE)
de
modelo <- "Corporación de Telecomunicaciones CNT"
we <- "CNT"
de <- str_view_all(we, modelo)
de |> str_replace("\\s*", '')
grepl(modelo, we, fixed = FALSE)
modelo <- "Corporación de Telecomunicaciones CNT"
we <- "CNT"
de <- str_view_all(we, modelo)
de |> str_replace("\\s*", '')
grepl(modelo, we, fixed = TRUE)
modelo <- "Corporación de Telecomunicaciones CNT"
we <- "CNT"
de <- str_view_all(we, modelo)
de |> str_replace("\\s*", '')
grepl(we, modelo, fixed = TRUE)
modelo <- "Corporación de Telecomunicaciones CNT"
we <- "CNT E.P"
de <- str_view_all(we, modelo)
de |> str_replace("\\s*", '')
grepl(we, modelo, fixed = TRUE)
modelo <- "Corporación de Telecomunicaciones CNT"
we <- "CNT"
de <- str_view_all(we, modelo)
de |> str_replace("\\s*", '')
grepl(we, modelo, fixed = TRUE)
we |> like |> modelo
we % like % modelo
like(we, modelo, fixed = TRUE)
modelo <- "Corporación de Telecomunicaciones CNT"
we <- "34"
de <- str_view_all(we, modelo)
de |> str_replace("\\s*", '')
grepl(we, modelo, fixed = TRUE)
modelo <- "Corporación de Telecomunicaciones CNT"
we <- "CNT"
de <- str_view_all(we, modelo)
de |> str_replace("\\s*", '')
grepl(we, modelo, fixed = TRUE)
modelo <- "Corporación de Telecomunicaciones CNT"
we <- "cnt"
de <- str_view_all(we, modelo)
de |> str_replace("\\s*", '')
grepl(we, modelo, fixed = TRUE)
sai <- read_excel('Abonados SAI art 34 IV 2021 CDRM.xls', sheet = 'SAI oct dic 21')
View(sai)
sai <- sai[, -c(3:7)]
colnames(sai)[3] <- 'dic 2021'
sai <- sai[-899]
sai <- sai[-899,]
sai <- sai[-899,]
sai <- sai[-889,]
sai <- read_excel('Abonados SAI art 34 IV 2021 CDRM.xls', sheet = 'SAI oct dic 21')
sai <- sai[, -c(1,3:7)]
colnames(sai)[3] <- 'dic 2021'
sai <- sai[-889,]
sai <- read_excel('Abonados SAI art 34 IV 2021 CDRM.xls', sheet = 'SAI oct dic 21')
sai <- sai[, -c(1,3:7)]
colnames(sai)[2] <- 'dic 2021'
sai <- sai[-889,]
sai <- read_excel('Abonados SAI art 34 IV 2021 CDRM.xls', sheet = 'SAI oct dic 21')
sai <- sai[, -c(1,3:7)]
colnames(sai)[2] <- 'sai_lineas'
sai <- sai[-889,]
sai <- read_excel('Abonados SAI art 34 IV 2021 CDRM.xls', sheet = 'SAI oct dic 21')
sai <- sai[, -c(1,3:7)]
colnames(sai) <- c('NOMBRE', 'sai_lineas')
sai <- sai[-889,]
costos_gastos <- costos_gastos |> inner_join(sai, by = 'NOMBRE')
sai <- read_excel('Abonados SAI art 34 IV 2021 CDRM.xls', sheet = 'SAI oct dic 21')
sai <- sai[, -c(1,3:7)]
colnames(sai) <- c('NOMBRE', 'sai_lineas')
sai <- sai[-889,]
costos_gastos <- costos_gastos |> inner_join(sai, by = 'NOMBRE')
costos_gastos <- teleco_eeff |> select(NOMBRE, `7991`) |>
filter(`7991` !=0) |> arrange(desc(`7991`))
View(costos_gastos)
sai <- read_excel('Abonados SAI art 34 IV 2021 CDRM.xls', sheet = 'SAI oct dic 21')
sai <- sai[, -c(1,3:7)]
colnames(sai) <- c('NOMBRE', 'sai_lineas')
sai <- sai[-889,]
costos_gastos <- costos_gastos |> inner_join(sai, by = 'NOMBRE')
source("C:/Users/bravi/projects/interconexion_r/impact_itx.R", echo=TRUE)
source("C:/Users/bravi/projects/interconexion_r/impact_itx.R", echo=TRUE)
sai <- sai |> inner_join(costos_gastos, by = 'NOMBRE') |>
mutate(costo_usuario = `7991`/ sai_lineas) |> arrange(desc(costo_usuario))
sai$7991
sai$`7991`
sai <- sai |> inner_join(costos_gastos, by = 'NOMBRE') |>
mutate(costo_usuario = `7991`/ sai_lineas)
sai <- sai |> inner_join(costos_gastos, by = 'NOMBRE') |>
mutate(costo_usuario = `7991`)
sai <- sai |> inner_join(costos_gastos, by = 'NOMBRE')
sai |> mutate(costo_usuario = `7991`)
sai |> mutate(costo_usuario = sai$`7991`)
source("C:/Users/bravi/projects/interconexion_r/impact_itx.R", echo=TRUE)
sai |> mutate(costo_usuario = `7991`)
sai <- sai |> mutate(costo_usuario = `7991`)
sai <- sai |> mutate(costo_usuario = `7991`/sai_lineas)
sai <- sai |> mutate(costo_usuario = `7991`/sai_lineas) |>
arrange(desc(costo_usuario))
sum(sai$`7991`)
sum(sai$sai_lineas)
sum(sai$sai_lineas) + 640381
sai <- sai |> mutate(costo_usuario = `7991`/sai_lineas) |>
arrange(desc(sai_lineas))
sum(sai$sai_lineas) + 640381 + 246015 + 76648
sai <- read_excel('Abonados SAI art 34 IV 2021 CDRM.xls', sheet = 'SAI oct dic 21')
sai <- sai[, -c(1,3:7)]
colnames(sai) <- c('NOMBRE', 'sai_lineas')
sai <- sai[-889,]
sai <- sai |> inner_join(costos_gastos, by = 'NOMBRE')
sai <- sai |> mutate(costo_usuario = `7991`/sai_lineas) |>
arrange(desc(sai_lineas))
source("C:/Users/bravi/projects/interconexion_r/impact_itx.R", echo=TRUE)
teleco_eeff |> filter(RUC == 1791847652001) |> pull(`7991`)
teleco_eeff |> filter(RUC == 1791847652001) |> pull(`7999`)
teleco_eeff |> filter(RUC == 1791847652001) |> pull(`7992`)
source("C:/Users/bravi/projects/interconexion_r/impact_itx.R", echo=TRUE)
sum(sai$sai_lineas)
source("C:/Users/bravi/projects/interconexion_r/impact_itx.R", echo=TRUE)
teleco_eeff |> filter(RUC == 1791251237001) |> pull(`1005`)
teleco_eeff |> filter(RUC == 1791251237001) |> pull(`1045`)
source("C:/Users/bravi/projects/interconexion_r/impact_itx.R", echo=TRUE)
sai <- sai |> inner_join(costos_gastos, by = 'NOMBRE')
sai <- sai |> mutate(costo_usuario = `7999`/(12*sai_lineas),
income_usuarios = `1005`/(12*sai_lineas),
profit = income_usuarios - costo_usuario) |>
filter(costo_usuario != Inf) |>
arrange(desc(sai_lineas))
sai <- sai |> inner_join(costos_gastos, by = 'NOMBRE')
sai <- sai |> mutate(costo_usuario = `7999`/(sai_lineas),
income_usuarios = `1005`/(sai_lineas),
profit = income_usuarios - costo_usuario) |>
filter(costo_usuario != Inf) |>
arrange(desc(sai_lineas))
sai <- sai |> inner_join(costos_gastos, by = 'NOMBRE')
sai <- sai |> mutate(costo_usuario = `7999`/(sai_lineas),
income_usuarios = `1005`/(sai_lineas),
profit = income_usuarios - costo_usuario) |>
filter(costo_usuario != Inf) |>
arrange(desc(sai_lineas))
source("C:/Users/bravi/projects/interconexion_r/impact_itx.R", echo=TRUE)
source("C:/Users/bravi/projects/interconexion_r/impact_itx.R", echo=TRUE)
sai |> summarise(mean_costo_u = mean(costo_usuario),
mean_income_u = mean(income_usuarios))
mean(sai$costo_usuario)
median(sai$costo_usuario)
median(sai$income_usuarios)
source("C:/Users/bravi/projects/interconexion_r/impact_itx.R", echo=TRUE)
grupos_eeff$`COSTO DE VENTAS Y PRODUCCIÓN`
grupos_eeff$GASTOS
grupos_eeff$`GASTOS DE VENTA`
grupos_eeff$`INGRESOS DE ACTIVIDADES ORDINARIAS`
grupos_eeff <- grupos_eeff |> select(`COSTO DE VENTAS Y PRODUCCIÓN`,
GASTOS, `INGRESOS DE ACTIVIDADES ORDINARIAS`)
grupos_eeff <- grupos_eeff |> select(`COSTO DE VENTAS Y PRODUCCIÓN`,
GASTOS, `INGRESOS DE ACTIVIDADES ORDINARIAS`)
View(grupos_eeff)
grupos_eeff <- procesamiento_grupos(balances_1)
View(grupos_eeff)
grupos_eeff <- grupos_eeff |> select(RUC, NOMBRE,
`COSTO DE VENTAS Y PRODUCCIÓN`,
GASTOS, `INGRESOS DE ACTIVIDADES ORDINARIAS`)
grupos_eeff <- grupos_eeff |> select(RUC, NOMBRE,
`COSTO DE VENTAS Y PRODUCCIÓN`,
GASTOS, `INGRESOS DE ACTIVIDADES ORDINARIAS`) |>
mutate(`7999` = `COSTO DE VENTAS Y PRODUCCIÓN` + GASTOS)
grupos_eeff <- grupos_eeff |> select(RUC, NOMBRE,
`COSTO DE VENTAS Y PRODUCCIÓN`,
GASTOS, `INGRESOS DE ACTIVIDADES ORDINARIAS`) |>
mutate(`7999` = `COSTO DE VENTAS Y PRODUCCIÓN` + GASTOS,
`1005` = `INGRESOS DE ACTIVIDADES ORDINARIAS`)
grupos_eeff <- grupos_eeff[, !names(grupos_eeff) %in% c(
"COSTO DE VENTAS Y PRODUCCIÓN", "GASTOS", "INGRESOS DE ACTIVIDADES ORDINARIAS"
)]
source("C:/Users/bravi/projects/interconexion_r/impact_itx.R", echo=TRUE)
costos_gastos |> select(NOMBRE, `7999`) |> filter(`7999` !=0) |> arrange(desc(`7999`)) |>
slice_max(`7999`, n = 15) |> mutate(NOMBRE = (reorder(NOMBRE, -`7999`))) |>
ggplot(aes(NOMBRE, `7999`)) + geom_col(position = "dodge", width=0.9, fill="#0E8388", color = "black") +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
ylab("Costos y Gastos") + xlab("")
#plot density
costos_gastos |> select(`7999`) |> arrange(desc(`7999`)) |>
ggplot(aes(log10(`7999`))) + geom_density(fill="#94AF9F") +
labs(x = "Costos y gastos telco (normalizado)")
costos_gastos |> filter(RUC == 1791251237001) |> pull(`1005`)
sai <- read_excel('Abonados SAI art 34 IV 2021 CDRM.xls', sheet = 'SAI oct dic 21')
sai <- sai[, -c(1,3:7)]
colnames(sai) <- c('NOMBRE', 'sai_lineas')
sai <- sai[-889,]
sai <- sai |> inner_join(costos_gastos, by = 'NOMBRE')
sai <- sai |> mutate(costo_usuario = `7999`/(sai_lineas*12),
income_usuarios = `1005`/(sai_lineas*12),
profit = income_usuarios - costo_usuario) |>
filter(costo_usuario != Inf) |>
arrange(desc(sai_lineas))
sai |> summarise(mean_costo_u = mean(costo_usuario),
mean_income_u = mean(income_usuarios))
#aplicar teorema límite central
source("C:/Users/bravi/projects/interconexion_r/impact_itx.R", echo=TRUE)
View(costos_gastos)
costos_gastos <- costos_gastos |> lef_join(sai, by = 'NOMBRE')
costos_gastos <- costos_gastos |> left_join(sai, by = 'NOMBRE')
View(costos_gastos)
costos_gastos <- costos_gastos |> mutate(costo_usuario = `7999`/(sai_lineas*12),
income_usuarios = `1005`/(sai_lineas*12),
profit = income_usuarios - costo_usuario) |>
arrange(desc(sai_lineas))
costos_gastos |> summarise(mean_costo_u = mean(costo_usuario),
mean_income_u = mean(income_usuarios))
costos_gastos |> filter(costo_usuario != Inf & !is.na(costo_usuario) ) |>
summarise(mean_costo_u = mean(costo_usuario),
mean_income_u = mean(income_usuarios))
stf <- read_excel("stf_2021.xlsx", sheet = 'Sheet1')
View(stf)
View(stf)
colnames(stf)[2] <- "stf_conexiones"
costos_gastos <- costos_gastos |> left_join(stf, by = 'NOMBRE')
costos_gastos <- costos_gastos |> left_join(stf, by = 'NOMBRE')
sum(stf$stf_conexiones)
sai <- read_excel('Abonados SAI art 34 IV 2021 CDRM.xls', sheet = 'SAI oct dic 21')
sai <- sai[, -c(1,3:7)]
colnames(sai) <- c('NOMBRE', 'sai_lineas')
sai <- sai[-889,]
costos_gastos <- costos_gastos |> left_join(sai, by = 'NOMBRE')
stf <- read_excel("stf_2021.xlsx", sheet = 'Sheet1')
colnames(stf)[2] <- "stf_conexiones"
costos_gastos <- costos_gastos |> left_join(stf, by = 'NOMBRE')
costos_gastos <- costos_gastos |> mutate(costo_usuario = `7999`/(sai_lineas*12),
income_usuarios = `1005`/(sai_lineas*12),
profit = income_usuarios - costo_usuario) |>
arrange(desc(sai_lineas))
source("C:/Users/bravi/projects/interconexion_r/impact_itx.R", echo=TRUE)
stf <- read_excel("stf_2021.xlsx", sheet = 'Sheet1')
colnames(stf)[2] <- "stf_conexiones"
costos_gastos2 <- costos_gastos |> left_join(stf, by = 'NOMBRE')
costos_gastos <- costos_gastos |> mutate(costo_usuario = `7999`/(sai_lineas*12),
income_usuarios = `1005`/(sai_lineas*12),
profit = income_usuarios - costo_usuario) |>
arrange(desc(sai_lineas))
costos_gastos |> filter(costo_usuario != Inf & !is.na(costo_usuario) ) |>
summarise(mean_costo_u = mean(costo_usuario),
mean_income_u = mean(income_usuarios))
View(costos_gastos2)
source("C:/Users/bravi/projects/interconexion_r/impact_itx.R", echo=TRUE)
View(costos_gastos2)
class(stf)
stf
source("C:/Users/bravi/projects/interconexion_r/impact_itx.R", echo=TRUE)
costos_gastos2$stf_conexiones
stf <- stf |> inner_join(costos_gastos, by = 'NOMBRE')
class(costos_gastos)
stf <- tibble(stf)
stf <- stf |> inner_join(costos_gastos, by = 'NOMBRE')
source("C:/Users/bravi/projects/interconexion_r/impact_itx.R", echo=TRUE)
View(stf)
stf_2021 <- read_excel("stf_2021.xlsx", sheet = 'Sheet1')
colnames(stf)[2] <- "stf_conexiones"
stf_2021 <- read_excel("stf_2022.xlsx", sheet = 'Sheet1')
colnames(stf)[2] <- "stf_conexiones"
stf <- stf_2021 |> inner_join(stf_2022, by = 'NOMBRE')
stf_2021 <- read_excel("stf_2021.xlsx", sheet = 'Sheet1')
colnames(stf_2021)[2] <- "stf_conexiones"
stf_2022 <- read_excel("stf_2022.xlsx", sheet = 'Sheet1')
colnames(stf_2022)[2] <- "stf_conexiones"
stf <- stf_2021 |> inner_join(stf_2022, by = 'NOMBRE')
View(stf)
stf_2021 <- read_excel("stf_2021.xlsx", sheet = 'Sheet1')
colnames(stf_2021)[2] <- "stf_conx2021"
stf_2022 <- read_excel("stf_2022.xlsx", sheet = 'Sheet1')
colnames(stf_2022)[2] <- "stf_conx2022"
stf <- stf_2021 |> inner_join(stf_2022, by = 'NOMBRE')
View(stf)
source("C:/Users/bravi/projects/interconexion_r/impact_itx.R", echo=TRUE)
stf_2021 <- read_excel("stf_2021.xlsx")
colnames(stf_2021)[2] <- "stf_conx2021"
costos_gastos <- costos_gastos |> left_join(stf_2021, by = 'NOMBRE')
source("C:/Users/bravi/projects/interconexion_r/impact_itx.R", echo=TRUE)
stf_2021 <- read_excel("stf_2021.xlsx")
#colnames(stf_2021)[2] <- "stf_conx2021"
costos_gastos <- costos_gastos |> left_join(stf_2021, by = 'NOMBRE')
stf_2021 <- read_excel("stf_2021.xlsx")
#colnames(stf_2021)[2] <- "stf_conx2021"
costos_gastos <- tibble(costos_gastos)
costos_gastos <- costos_gastos |> left_join(stf_2021, by = 'NOMBRE')
stf_2021 <- read_excel("stf_2021.xlsx")
#colnames(stf_2021)[2] <- "stf_conx2021"
costos_gastos <- tibble(costos_gastos)
costos_gastos_2 <- left_join(costos_gastos, stf_2021, by = 'NOMBRE')
View(costos_gastos_2)
View(stf_2021)
stf_2021 <- read_excel("stf_2021.xlsx")
#colnames(stf_2021)[2] <- "stf_conx2021"
costos_gastos <- tibble(costos_gastos)
costos_gastos_2 <- left_join(costos_gastos, stf_2021, by = 'NOMBRE')
View(costos_gastos_2)
source("C:/Users/bravi/projects/interconexion_r/impact_itx.R", echo=TRUE)
costos_gastos_2 <- left_join(costos_gastos, stf_2021, by = 'NOMBRE')
View(costos_gastos_2)
source("C:/Users/bravi/projects/interconexion_r/impact_itx.R", echo=TRUE)
source("C:/Users/bravi/projects/interconexion_r/impact_itx.R", echo=TRUE)
View(costos_gastos)
source("C:/Users/bravi/projects/interconexion_r/impact_itx.R", echo=TRUE)
costos_gastos <- costos_gastos |> left_join(stf_2021, by = 'NOMBRE')
source("C:/Users/bravi/projects/interconexion_r/impact_itx.R", echo=TRUE)
View(costos_gastos)
stf_2021 <- read_excel("stf_2021.xlsx")
#colnames(stf_2021)[2] <- "stf_conx2021"
stf_2021 <- tibble(stf_2021)
costos_gastos <- costos_gastos |> left_join(stf_2021, by = 'NOMBRE')
stf_2021 <- read_excel("stf_2021.xlsx")
#colnames(stf_2021)[2] <- "stf_conx2021"
stf_2021 <- tibble(stf_2021)
costos_gastos <- costos_gastos |> left_join(stf_2021, by = 'NOMBRE')
stf_2021 <- read_excel("stf_2021.xlsx")
stf_2022 <- read_excel("stf_2022.xlsx")
#colnames(stf_2021)[2] <- "stf_conx2021"
#stf_2021 <- tibble(stf_2021)
stf_2022 <- stf_2022 |> left_join(stf_2021, by = 'NOMBRE')
View(stf_2022)
stf_2021 <- read_csv("stf_2021.xlsx")
stf_2022 <- read_excel("stf_2022.xlsx")
#colnames(stf_2021)[2] <- "stf_conx2021"
#stf_2021 <- tibble(stf_2021)
stf_2022 <- stf_2022 |> left_join(stf_2021, by = 'NOMBRE')
stf_2021 <- read_csv("stf_2021.xlsx")
stf_2021 <- read_csv("stf_2021.xlsx")
stf_2022 <- read_excel("stf_2022.xlsx")
#colnames(stf_2021)[2] <- "stf_conx2021"
#stf_2021 <- tibble(stf_2021)
#stf_2022 <- stf_2022 |> left_join(stf_2021, by = 'NOMBRE')
stf_2021 <- read_csv("stf_2021.xlsx")
stf_2022 <- read_excel("stf_2022.xlsx")
#colnames(stf_2021)[2] <- "stf_conx2021"
#stf_2021 <- tibble(stf_2021)
#stf_2022 <- stf_2022 |> left_join(stf_2021, by = 'NOMBRE')
View(stf_2021)
stf_2021 <- read_excel("stf_2021.xlsx")
stf_2022 <- read_excel("stf_2022.xlsx")
View(stf_2021)
stf_2021 <- read_excel("stf_2021.xlsx")
stf_2022 <- read_excel("stf_2022.xlsx")
stf_2022 <- stf_2022 |> left_join(stf_2021, by = 'NOMBRE')
stf_2021 <- read_excel("stf_2021.xlsx")
stf_2022 <- read_excel("stf_2022.xlsx")
#colnames(stf_2021)[2] <- "stf_conx2021"
#stf_2021 <- tibble(stf_2021)
stf_2021 <- stf_2021 |> inne_join(costos_gastos, by = 'NOMBRE')
stf_2021 <- read_excel("stf_2021.xlsx")
stf_2022 <- read_excel("stf_2022.xlsx")
#colnames(stf_2021)[2] <- "stf_conx2021"
#stf_2021 <- tibble(stf_2021)
stf_2021 <- stf_2021 |> inner_join(costos_gastos, by = 'NOMBRE')
stf_2021 <- read_excel("stf_2021.xlsx")
stf_2022 <- read_excel("stf_2022.xlsx")
#colnames(stf_2021)[2] <- "stf_conx2021"
stf_2021 <- tibble(stf_2021)
costos_gastos <- tibble(costos_gastos)
stf_2021 <- stf_2021 |> inner_join(costos_gastos, by = 'NOMBRE')
source("C:/Users/bravi/projects/interconexion_r/impact_itx.R", echo=TRUE)
stf_2021 <- stf_2021 |> full_join(costos_gastos, by = 'NOMBRE')
source("C:/Users/bravi/projects/interconexion_r/impact_itx.R", echo=TRUE)
View(we)
View(we)
View(sai)
'CONSORCIO ECUATORIANO DE TELECOMUNICACIONES S.A. CONECEL' == 'CONSORCIO ECUATORIANO DE TELECOMUNICACIONES S.A. CONECEL'
View(we)
stf_2021 <- read_excel("stf_2021.xlsx")
stf_2022 <- read_excel("stf_2022.xlsx")
#colnames(stf_2021)[2] <- "stf_conx2021"
stf_2021 <- tibble(stf_2021)
costos_gastos <- tibble(costos_gastos)
we <- stf_2021 |> full_join(costos_gastos, by = 'NOMBRE')
stf_2021 <- read_excel("stf_2021.xlsx")
stf_2022 <- read_excel("stf_2022.xlsx")
#colnames(stf_2021)[2] <- "stf_conx2021"
stf_2021 <- tibble(stf_2021)
costos_gastos <- tibble(costos_gastos)
we <- stf_2021 |> full_join(costos_gastos, by = 'RUC')
source("C:/Users/bravi/projects/interconexion_r/impact_itx.R", echo=TRUE)
class(stf_2021$NOMBRE)
class(costos_gastos$NOMBRE)
class(stf_2021$RUC)
class(costos_gastos$RUC)
stf_2021$NOMBRE == costos_gastos$NOMBRE
sai$NOMBRE = costos_gastos$NOMBRE
sai$NOMBRE == costos_gastos$NOMBRE
costos_gastos |> left_join(sai, by = 'NOMBRE')
dplyr::all_equal(sai, costos_gastos)
all.equal(sai$NOMBRE, costos_gastos$NOMBRE)
comparedf(sai$NOMBRE, costos_gastos$NOMBRE)
match(sai$NOMBRE, costos_gastos$NOMBRE)
match(stf_2021$NOMBRE, costos_gastos$NOMBRE)
class(sai$NOMBRE)
source("C:/Users/bravi/projects/interconexion_r/impact_itx.R", echo=TRUE)
we <- stf_2021 |> full_join(costos_gastos, by = 'NOMBRE')
View(we)
stf_2021 <- read_excel("stf_2021.xlsx", encoding="Latin-1")
stf_2021 <- read_xlsx("stf_2021.xlsx")
stf_2022 <- read_excel("stf_2022.xlsx")
#colnames(stf_2021)[2] <- "stf_conx2021"
stf_2021 <- tibble(stf_2021)
costos_gastos <- tibble(costos_gastos)
we <- stf_2021 |> full_join(costos_gastos, by = 'NOMBRE')
stf_2021 <- read_xlsx("stf_2021.xlsx")
stf_2022 <- read_excel("stf_2022.xlsx")
#colnames(stf_2021)[2] <- "stf_conx2021"
stf_2021 <- tibble(stf_2021)
costos_gastos <- tibble(costos_gastos)
we <- stf_2021 |> full_join(costos_gastos, by = 'NOMBRE')
stf_2021 <- read_xls("stf_2021.xlsx")
stf_2021 <- read_xlsx("stf_2021.xlsx")
stf_2022 <- read_excel("stf_2022.xlsx")
#colnames(stf_2021)[2] <- "stf_conx2021"
stf_2021 <- tibble(stf_2021)
costos_gastos <- tibble(costos_gastos)
we <- stf_2021 |> inner_join(costos_gastos, by = 'NOMBRE')
stf_2021 <- read_xlsx("stf_2021.xlsx")
stf_2022 <- read_excel("stf_2022.xlsx")
#colnames(stf_2021)[2] <- "stf_conx2021"
stf_2021 <- tibble(stf_2021)
costos_gastos <- tibble(costos_gastos)
we <- stf_2021 |> inner_join(costos_gastos, by = 'NOMBRE')
source("C:/Users/bravi/projects/interconexion_r/impact_itx.R", echo=TRUE)
source("C:/Users/bravi/projects/interconexion_r/impact_itx.R", echo=TRUE)
View(stf_2021)
source("C:/Users/bravi/projects/interconexion_r/impact_itx.R", echo=TRUE)
source("C:/Users/bravi/projects/interconexion_r/impact_itx.R", echo=TRUE)
# internet telecom service
sai <- read_excel('Abonados SAI art 34 IV 2021 CDRM.xls', sheet = 'SAI oct dic 21')
sai <- sai[, -c(1,3:7)]
colnames(sai) <- c('NOMBRE', 'sai_con')
sai <- sai[-889,]
costos_gastos <- costos_gastos |> left_join(sai, by = 'NOMBRE')
# fixed telecom service
stf <- read_xlsx("stf_2021.xlsx")
colnames(stf)[2] <- "stf_con"
costos_gastos <- costos_gastos |> left_join(stf, by = 'NOMBRE')
source("C:/Users/bravi/projects/interconexion_r/impact_itx.R", echo=TRUE)
costos_gastos <- costos_gastos |> mutate(costo_usuario = `7999`/(sai_con*12),
income_usuarios = `1005`/(sai_con*12),
profit = income_usuarios - costo_usuario) |>
arrange(desc(sai_con))
costos_gastos |> filter(costo_usuario != Inf & !is.na(costo_usuario) ) |>
summarise(mean_costo_u = mean(costo_usuario),
mean_income_u = mean(income_usuarios))
source("C:/Users/bravi/projects/interconexion_r/impact_itx.R", echo=TRUE)
source("C:/Users/bravi/projects/interconexion_r/impact_itx.R", echo=TRUE)
source("C:/Users/bravi/projects/interconexion_r/impact_itx.R", echo=TRUE)
View(portador)
portador <- portador |> filter(!is.na(portador_con)) |> arrange(desc(portador_con))
View(portador)
class(portador$portador_con)
portador <- portador |> filter(!is.na(portador_con)) |>
as.numeric(portador_con) |>
arrange(desc(portador_con))
source("C:/Users/bravi/projects/interconexion_r/impact_itx.R", echo=TRUE)
portador <- portador |> filter(!is.na(portador_con))
portador <- portador |> filter(!is.na(portador_con))|> mutate(as.numeric(portador_con))
source("C:/Users/bravi/projects/interconexion_r/impact_itx.R", echo=TRUE)
View(portador)
class(portador$portador_con)
class(portador$`as.numeric(portador_con)`)
source("C:/Users/bravi/projects/interconexion_r/impact_itx.R", echo=TRUE)
View(portador)
class(portador$portador_con)
class(costos_gastos$sai_con)
class(costos_gastos$stf_con)
class(costos_gastos$avs_con)
class(costos_gastos$sma_con)
portador <- portador |> filter(!is.na(portador_con))|>
mutate(portador_con = as.numeric(portador_con))|>
arrange(desc(portador_con))
costos_gastos[1,5]
costos_gastos[1,5] + costos_gastos[2,6]
costos_gastos[1,5] + costos_gastos[2,5]
costos_gastos[1,5] + costos_gastos[2,6]
costos_gastos[1,5] + costos_gastos[1,6]
source("C:/Users/bravi/projects/interconexion_r/impact_itx.R", echo=TRUE)
costos_gastos <- costos_gastos |> left_join(portador, by = 'NOMBRE')
source("C:/Users/bravi/projects/interconexion_r/impact_itx.R", echo=TRUE)
